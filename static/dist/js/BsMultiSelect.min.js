/*!
  * DashboardCode BsMultiSelect v0.3.1 (https://dashboardcode.github.io/BsMultiSelect/)
  * Copyright 2017-2019 Roman Pokrovskij (github user rpokrovskij)
  * Licensed under APACHE 2 (https://github.com/DashboardCode/BsMultiSelect/blob/master/LICENSE)
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js"],t):t((e=e||self).jQuery,e.Popper)}(this,function(e,l){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,l=l&&l.hasOwnProperty("default")?l.default:l;var a=function(){function e(e,t){var n=t.extend({},{selectedPanelFocusClass:"focus",selectedPanelDisabledClass:"disabled",selectedItemContentDisabledClass:"disabled",dropDownItemDisabledClass:"disabled"},e);this.configuration=t.extend(e,n)}var t=e.prototype;return t.DisableSelectedItemContent=function(e){e.addClass(this.configuration.selectedItemContentDisabledClass)},t.DisabledStyle=function(e,t){t?e.addClass(this.configuration.dropDownItemDisabledClass):e.removeClass(this.configuration.dropDownItemDisabledClass)},t.Enable=function(e){e.removeClass(this.configuration.selectedPanelDisabledClass)},t.Disable=function(e){e.addClass(this.configuration.selectedPanelDisabledClass)},t.FocusIn=function(e){e.addClass(this.configuration.selectedPanelFocusClass)},t.FocusOut=function(e){e.removeClass(this.configuration.selectedPanelFocusClass)},e}(),n={"margin-bottom":"0",height:"auto"},i={"padding-left":"0px","line-height":"1.5em"},o={"font-size":"1.5em","line-height":".9em"},r=function(){function e(e,t){var n=t.extend({},{selectedPanelDefMinHeight:"calc(2.25rem + 2px)",selectedPanelLgMinHeight:"calc(2.875rem + 2px)",selectedPanelSmMinHeight:"calc(1.8125rem + 2px)",selectedPanelDisabledBackgroundColor:"#e9ecef",selectedPanelFocusBorderColor:"#80bdff",selectedPanelFocusBoxShadow:"0 0 0 0.2rem rgba(0, 123, 255, 0.25)",selectedPanelFocusValidBoxShadow:"0 0 0 0.2rem rgba(40, 167, 69, 0.25)",selectedPanelFocusInvalidBoxShadow:"0 0 0 0.2rem rgba(220, 53, 69, 0.25)",filterInputColor:"#495057",selectedItemContentDisabledOpacity:".65",dropdDownLabelDisabledColor:"#6c757d"},e);this.configuration=t.extend(e,n)}var t=e.prototype;return t.OnInit=function(e){e.selectedPanel.css(n),e.filterInput.css("color",this.configuration.filterInputColor)},t.CreateSelectedItemContent=function(e,t){e.css(i),t.css(o)},t.DisableSelectedItemContent=function(e){e.css("opacity",this.configuration.selectedItemContentDisabledOpacity)},t.DisabledStyle=function(e,t){e.siblings("label").css("color",t?this.configuration.dropdDownLabelDisabledColor:"")},t.UpdateSize=function(e){e.hasClass("form-control-lg")?e.css("min-height",this.configuration.selectedPanelLgMinHeight):e.hasClass("form-control-sm")?e.css("min-height",this.configuration.selectedPanelSmMinHeight):e.css("min-height",this.configuration.selectedPanelDefMinHeight)},t.Enable=function(e){e.css({"background-color":""})},t.Disable=function(e){e.css({"background-color":this.configuration.selectedPanelDisabledBackgroundColor})},t.FocusIn=function(e){e.hasClass("is-valid")?e.css("box-shadow",this.configuration.selectedPanelFocusValidBoxShadow):e.hasClass("is-invalid")?e.css("box-shadow",this.configuration.selectedPanelFocusInvalidBoxShadow):e.css("box-shadow",this.configuration.selectedPanelFocusBoxShadow).css("border-color",this.configuration.selectedPanelFocusBorderColor)},t.FocusOut=function(e){e.css("box-shadow","").css("border-color","")},e}(),d={display:"flex","flex-wrap":"wrap","list-style-type":"none"},u={width:"2ch",border:"0",padding:"0",outline:"none","background-color":"transparent"},c={"list-style-type":"none"},p=function(){function e(e,t,n,i,o,s){if("undefined"==typeof l)throw new TypeError("DashboardCode BsMultiSelect require Popper.js (https://popper.js.org)");this.adapter=t,this.window=o,this.document=o.document,this.onDispose=i,this.$=s,this.configuration=n,this.container=null,this.selectedPanel=null,this.filterInputItem=null,this.filterInput=null,this.dropDownMenu=null,this.popper=null,this.getDisabled=null,this.selectedPanelClick=null,this.documentMouseup=null,this.containerMousedown=null,this.documentMouseup2=null,this.disabled=null,this.filterInputItemOffsetLeft=null,this.skipFocusout=!1,this.hoveredDropDownItem=null,this.hoveredDropDownIndex=null,this.hasDropDownVisible=!1,this.$document=s(this.document),e.init(this)}var t=e.prototype;return t.updateDropDownPosition=function(e){var t=this.filterInputItem.offsetLeft;!e&&this.filterInputItemOffsetLeft==t||(this.popper.update(),this.filterInputItemOffsetLeft=t)},t.hideDropDown=function(){this.dropDownMenu.style.display="none"},t.showDropDown=function(){this.dropDownMenu.style.display="block"},t.resetDropDownMenuHover=function(){null!==this.hoveredDropDownItem&&(this.adapter.HoverOut(this.$(this.hoveredDropDownItem)),this.hoveredDropDownItem=null,this.hoveredDropDownIndex=null)},t.filterDropDownMenu=function(){var s=this,a=this.filterInput.value.trim().toLowerCase(),r=0;if(this.$(this.dropDownMenu).find("LI").each(function(e,t){var n=s.$(t);if(""==a)n.show(),r++;else{var i=n.data("option-text"),o=n.data("option");!o.selected&&!o.hidden&&!o.disabled&&0<=i.indexOf(a)?(n.show(),r++):n.hide()}}),this.hasDropDownVisible=0<r,this.resetDropDownMenuHover(),1==r){var e=this.getVisibleNodeListArray();this.hoverInInternal(e,0)}},t.clearFilterInput=function(e){this.filterInput.value&&(this.filterInput.value="",this.input(e))},t.closeDropDown=function(){this.resetDropDownMenuHover(),this.clearFilterInput(!0),this.hideDropDown()},t.appendDropDownItem=function(s,a){var r=this,e=s.hidden,t=s.text,l=this.$("<LI/>").prop("hidden",e);l.data("option-text",t.toLowerCase()).appendTo(this.dropDownMenu),l.data("option",s);var d=this.adapter.CreateDropDownItemContent(l,s),n=s.disabled;s.selected&&n?d.disabledStyle(!0):n&&d.disable(n),d.onSelected(function(){l.data("option-toggle")(),r.filterInput.focus()});function u(e){if(!s.hidden){var i=r.$("<LI/>"),t=function(e,t,n){s.selected=e,d.select(e),l.data("option-toggle",t),i.data("option-remove",n)},n=function(){d.disabledStyle(!1),d.disable(s.disabled),t(!1,function(){s.disabled||u(!0)},null),i.remove(),a()},o=function(){n(),r.closeDropDown()};r.adapter.CreateSelectedItemContent(i,s,o,r.disabled),t(!0,n,o),i.insertBefore(r.filterInputItem),e&&a()}}l.mouseover(function(){return r.adapter.HoverIn(l)}).mouseout(function(){return r.adapter.HoverOut(l)}),s.selected?u(!1):l.data("option-toggle",function(){s.disabled||u(!0)})},t.getVisibleNodeListArray=function(){return this.$(this.dropDownMenu).find('LI:not([style*="display: none"]):not(:hidden)').toArray()},t.hoverInInternal=function(e,t){this.hoveredDropDownIndex=t,this.hoveredDropDownItem=e[t],this.adapter.HoverIn(this.$(this.hoveredDropDownItem))},t.keydownArrow=function(e){var t=this.getVisibleNodeListArray();if(0<t.length){var n;if(this.hasDropDownVisible&&(this.updateDropDownPosition(!0),this.showDropDown()),null===this.hoveredDropDownItem)n=e?0:t.length-1;else if(this.adapter.HoverOut(this.$(this.hoveredDropDownItem)),e){var i=this.hoveredDropDownIndex+1;n=i<t.length?i:0}else{var o=this.hoveredDropDownIndex-1;n=0<=o?o:t.length-1}this.hoverInInternal(t,n)}},t.input=function(e){this.filterInput.style.width=1.3*this.filterInput.value.length+2+"ch",this.filterDropDownMenu(),this.hasDropDownVisible?(e&&this.updateDropDownPosition(e),this.showDropDown()):this.hideDropDown()},t.Update=function(){var e=this.$(this.selectedPanel);this.adapter.UpdateIsValid(e),this.UpdateSizeImpl(e),this.UpdateDisabledImpl(this.$(this.container),e)},t.Dispose=function(){this.onDispose&&this.onDispose(),this.$document.unbind("mouseup",this.documentMouseup).unbind("mouseup",this.documentMouseup2),null!==this.adapter&&this.adapter.Dispose(),null!==this.popper&&this.popper.destroy(),this.removeContainer&&this.removeContainer()},t.UpdateSize=function(){this.UpdateSizeImpl(this.$(this.selectedPanel))},t.UpdateDisabled=function(){this.UpdateDisabledImpl(this.$(this.container),this.$(this.selectedPanel))},t.UpdateSizeImpl=function(e){this.adapter.UpdateSize&&this.adapter.UpdateSize(e)},t.UpdateDisabledImpl=function(e,t){var n=this.getDisabled();this.disabled!==n&&(n?(this.filterInput.style.display="none",this.adapter.Disable(t),e.unbind("mousedown",this.containerMousedown),this.$document.unbind("mouseup",this.documentMouseup),t.unbind("click",this.selectedPanelClick),this.$document.unbind("mouseup",this.documentMouseup2)):(this.filterInput.style.display="inline-block",this.adapter.Enable(t),e.mousedown(this.containerMousedown),this.$document.mouseup(this.documentMouseup),t.click(this.selectedPanelClick),this.$document.mouseup(this.documentMouseup2)),this.disabled=n)},t.fillContainer=function(t,e){var n=this;this.container=t,this.removeContainer=e;var i=this.$(t);this.selectedPanel=this.document.createElement("ul");var o=this.$(this.selectedPanel);o.css(d),o.appendTo(t);var s=this.$("<LI/>");this.filterInputItem=s.get(0),s.appendTo(this.selectedPanel);var a=this.$('<INPUT type="search" autocomplete="off">');this.filterInput=a.get(0),a.css(u),a.appendTo(this.filterInputItem);var r=this.$("<UL/>").css({display:"none"});return r.appendTo(t),this.dropDownMenu=r.get(0),r.css(c),this.documentMouseup=function(){n.skipFocusout=!1},this.containerMousedown=function(){n.skipFocusout=!0},this.documentMouseup2=function(e){t===e.target||n.$.contains(t,e.target)||n.closeDropDown()},this.selectedPanelClick=function(e){"INPUT"!=e.target.nodeName&&n.$(n.filterInput).val("").focus(),n.hasDropDownVisible&&n.adapter.IsClickToOpenDropdown(e)&&(n.updateDropDownPosition(!0),n.showDropDown())},this.adapter.Init({container:i,selectedPanel:o,filterInputItem:s,filterInput:a,dropDownMenu:r}),{$container:i,$selectedPanel:o,$dropDownMenu:r,$filterInput:a}},t.init=function(e,t,n,i,o,s,a){var r=this;this.getDisabled=a,this.popper=new l(this.filterInput,this.dropDownMenu,{placement:"bottom-start",modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1},flip:{enabled:!1}}}),this.adapter.UpdateIsValid(t),this.UpdateSizeImpl(t),this.UpdateDisabledImpl(e,t),this.$(function(){var e=s();r.$.each(e,function(e,t){r.appendDropDownItem(t,o)}),r.hasDropDownVisible=0<e.length,r.updateDropDownPosition(!1)}),n.mouseover(function(){return r.resetDropDownMenuHover()}),i.focusin(function(){return r.adapter.FocusIn(t)}).focusout(function(){r.skipFocusout||r.adapter.FocusOut(t)}),i.on("keydown",function(e){if((0<=[38,40,13].indexOf(e.which)||9==e.which&&r.filterInput.value)&&e.preventDefault(),38==e.which)r.keydownArrow(!1);else if(40==e.which)null===r.hoveredDropDownItem&&r.hasDropDownVisible&&r.showDropDown(),r.keydownArrow(!0);else if(9==e.which)r.filterInput.value||r.closeDropDown();else if(8==e.which&&!r.filterInput.value){var t=r.$(r.selectedPanel).find("LI:last").prev();if(t.length)t.data("option-remove")();r.updateDropDownPosition(!1)}-1==[38,40,13,9].indexOf(e.which)&&r.resetDropDownMenuHover()}),i.on("keyup",function(e){if(13==e.which||9==e.which)if(r.hoveredDropDownItem){r.$(r.hoveredDropDownItem).data("option-toggle")(),r.closeDropDown()}else{for(var t=r.filterInput.value.trim().toLowerCase(),n=r.dropDownMenu.querySelectorAll("LI"),i=null,o=0;o<n.length;++o){var s=n[o];if(s.textContent.trim().toLowerCase()==t){i=s;break}}if(i){var a=r.$(i);if(!a.data("option").selected)a.data("option-toggle")();r.clearFilterInput(!0)}}else 27==e.which&&r.closeDropDown()}),i.on("input",function(){r.input(!0)})},e}();function s(e,t){e.find("BUTTON").prop("disabled",t)}function h(r,e,t){var l=t(r);e.getIsValid=function(){return l.hasClass("is-valid")},e.getIsInvalid=function(){return l.hasClass("is-invalid")},e.createInputId=function(e){return e.containerClass+"-generated-filter-"+r.name.toLowerCase()+"-id"},e.label=null;var n=l.closest(".form-group");if(1==n.length){var i=n.find('label[for="'+r.id+'"]');if(0<i.length){var o=i.get(0);o.getAttribute("for")==r.id&&(e.label=o)}}e.createCheckBoxId=function(e,t){return e.containerClass+"-"+r.name.toLowerCase()+"-generated-checkbox-"+t.value.toLowerCase()+"-id"},this.init=function(e){r.style.display="none";var t=document.createElement("div"),n=e.fillContainer(t,function(){return t.parentNode.removeChild(t)}),i=n.$container,o=n.$selectedPanel,s=n.$dropDownMenu,a=n.$filterInput;i.insertAfter(r),e.init(i,o,s,a,function(){l.trigger("change"),l.trigger("multiselect:change")},function(){return l.find("OPTION")},function(){return r.disabled})}}function f(a,r){r.getIsValid=r.hasOwnProperty("getIsValid")?r.getIsValid:function(){return!1},r.getIsInvalid=r.hasOwnProperty("getIsInvalid")?r.getIsInvalid:function(){return!1},r.createInputId=function(e){return e.containerClass+"-generated-filter-"+a.id},r.label=r.hasOwnProperty("label")?r.label:null,r.createCheckBoxId=function(e,t){return e.containerClass+"-"+a.id+"-generated-checkbox-"+t.value.toLowerCase()+"-id"},this.init=function(e){var t=e.fillContainer(a,function(){for(;a.firstChild;)a.removeChild(a.firstChild)}),n=t.$container,i=t.$selectedPanel,o=t.$dropDownMenu,s=t.$filterInput;e.init(n,i,o,s,function(){n.trigger("multiselect:change")},function(){return r.options},r.hasOwnProperty("getDisabled")?r.getDisabled:function(){return!0})}}var D,I,m=function(){function e(e,t,n){var u=this,i=n.extend({},{containerClass:"dashboardcode-bsmultiselect",dropDownMenuClass:"dropdown-menu",dropDownItemClass:"px-2",dropDownItemHoverClass:"text-primary bg-light",selectedPanelClass:"form-control",selectedItemClass:"badge",removeSelectedItemButtonClass:"close",filterInputItemClass:"",filterInputClass:""},t);this.configuration=n.extend(t,i),this.$=n,this.stylingAdapter=e,this.bs4LabelDispose=null,this.createDropDownItemContent=function(e,n,t){var i=u.configuration.createCheckBoxId(e,t),o=u.$('<div class="custom-control custom-checkbox">\n                <input type="checkbox" class="custom-control-input">\n                <label class="custom-control-label"></label>\n            </div>');o.appendTo(n);var s=o.find('INPUT[type="checkbox"]');s.attr("id",i);var a=o.find("label");a.attr("for",i),a.text(t.text),n.addClass(e.dropDownItemClass);var r=n.get(0),l=o.get(0),d=u.stylingAdapter;return{select:function(e){s.prop("checked",e)},disable:function(e){s.prop("disabled",e)},disabledStyle:function(e){d.DisabledStyle(s,e)},onSelected:function(t){s.on("change",t),n.on("click",function(e){e.target!=r&&e.target!=l||t()})}}},this.createSelectedItemContent=function(e,t,n,i,o){var s=u.$("<span/>").text(n.text);s.appendTo(t),n.disabled&&u.stylingAdapter.DisableSelectedItemContent(s);var a=u.$('<button aria-label="Close" tabIndex="-1" type="button"><span aria-hidden="true">&times;</span></button>').css("float","none").on("click",function(){return setTimeout(i,0)}).appendTo(t).prop("disabled",o);t.addClass(e.selectedItemClass),a.addClass(e.removeSelectedItemButtonClass),u.stylingAdapter.CreateSelectedItemContent&&u.stylingAdapter.CreateSelectedItemContent(t,a)}}var t=e.prototype;return t.Init=function(e){e.container.addClass(this.configuration.containerClass),e.selectedPanel.addClass(this.configuration.selectedPanelClass),e.dropDownMenu.addClass(this.configuration.dropDownMenuClass),e.filterInputItem.addClass(this.configuration.filterInputItemClass),e.filterInput.addClass(this.configuration.filterInputClass),this.stylingAdapter.OnInit&&this.stylingAdapter.OnInit(e),this.bs4LabelDispose=this.HandleLabel(e.filterInput)},t.HandleLabel=function(e){var t=this.configuration.label;if(null==t)return null;var n=this.configuration.createInputId(this.configuration),i=t.getAttribute("for");return e.attr("id",n),t.setAttribute("for",n),function(){t.setAttribute("for",i)}},t.Dispose=function(){this.bs4LabelDispose&&this.bs4LabelDispose()},t.CreateDropDownItemContent=function(e,t){return this.createDropDownItemContent(this.configuration,e,t)},t.CreateSelectedItemContent=function(e,t,n,i){return this.createSelectedItemContent(this.configuration,e,t,n,i)},t.IsClickToOpenDropdown=function(e){var t=e.target,n=t.nodeName;return!("BUTTON"==n||"SPAN"==n&&"BUTTON"==t.parentElement.nodeName)},t.UpdateIsValid=function(e){this.configuration.getIsValid()&&e.addClass("is-valid"),this.configuration.getIsInvalid()&&e.addClass("is-invalid")},t.UpdateSize=function(e){this.stylingAdapter.UpdateSize&&this.stylingAdapter.UpdateSize(e)},t.HoverIn=function(e){e.addClass(this.configuration.dropDownItemHoverClass)},t.HoverOut=function(e){e.removeClass(this.configuration.dropDownItemHoverClass)},t.Enable=function(e){this.stylingAdapter.Enable(e),s(e,!1)},t.Disable=function(e){this.stylingAdapter.Disable(e),s(e,!0)},t.FocusIn=function(e){this.stylingAdapter.FocusIn(e)},t.FocusOut=function(e){this.stylingAdapter.FocusOut(e)},e}();D=window,function(e,s,a){var t=e.charAt(0),n=t.toLowerCase();if(n==t)throw new TypeError("Plugin name '"+e+"' should be started from upper case char");var i=n+e.slice(1),o=a.fn[i],r="DashboardCode."+e;function l(o){return this.each(function(){var e=a(this),t=e.data(r),n="string"==typeof o;if(!t){if(n&&/Dispose/.test(o))return;t=s(this,"object"==typeof o?o:null,function(){e.removeData(r)}),e.data(r,t)}if(n){var i=o;if("undefined"==typeof t[i])throw new TypeError("No method named '"+i+"'");t[i]()}})}a.fn[i]=l,a.fn[e]=function(){return a(this).data(r)},a.fn[i].noConflict=function(){return a.fn[i]=o,l}}("BsMultiSelect",function(e,t,n){var i=null;i=(t=I.extend({},t)).optionsAdapter?t.optionsAdapter:t.options?new f(e,t):new h(e,t,I);var o=null;if(t.adapter)o=t.adapter;else{var s=t.useCss?new a(t,I):new r(t,I);o=new m(s,t,I)}return new p(i,o,t,n,D,I)},I=e)});
//# sourceMappingURL=BsMultiSelect.min.js.map